---
layout: default
---

<a href="{{ '/' | relative_url }}" class="back-link">â† è¿”å›é¦–é¡µ</a>

<article class="content">
  {% if page.featured_image %}
  <img src="{{ page.featured_image }}" alt="{{ page.title }}" class="featured-image">
  {% endif %}
  
  <div class="article-header">
    <h2>{{ page.title }}</h2>
    
    <div class="article-meta">
      {% if page.date %}
      <span class="article-meta-item">
        ğŸ“… å‘å¸ƒ: {{ page.date | date: "%Yå¹´%mæœˆ%dæ—¥" }}
      </span>
      {% endif %}
      
      {% if page.lastmod %}
      <span class="article-meta-item">
        ğŸ”„ æ›´æ–°: {{ page.lastmod | date: "%Yå¹´%mæœˆ%dæ—¥" }}
      </span>
      {% endif %}
    </div>
  </div>
  
  <div class="post-content">
    <aside class="toc-wrapper">
      <nav class="toc">
        <h3>ğŸ“‘ ç›®å½•</h3>
        <div id="toc-content"></div>
      </nav>
    </aside>
    
    <div class="article-body">
      {{ content }}
    </div>
  </div>
</article>

<script>
  // Generate table of contents
  (function() {
    const articleBody = document.querySelector('.article-body');
    const tocContent = document.getElementById('toc-content');
    
    if (!articleBody || !tocContent) return;
    
    const headings = articleBody.querySelectorAll('h1, h2, h3, h4, h5, h6');
    
    if (headings.length === 0) {
      // If no headings, hide the TOC
      document.querySelector('.toc-wrapper').style.display = 'none';
      document.querySelector('.post-content').style.gridTemplateColumns = '1fr';
      return;
    }
    
    const toc = document.createElement('ul');
    let currentLevel = parseInt(headings[0].tagName.substring(1));
    let currentList = toc;
    const listStack = [toc];
    
    headings.forEach((heading, index) => {
      const level = parseInt(heading.tagName.substring(1));
      const id = heading.id || `heading-${index}`;
      heading.id = id;
      
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = `#${id}`;
      a.textContent = heading.textContent;
      li.appendChild(a);
      
      if (level > currentLevel) {
        const ul = document.createElement('ul');
        if (currentList.lastElementChild) {
          currentList.lastElementChild.appendChild(ul);
        }
        currentList = ul;
        listStack.push(ul);
      } else if (level < currentLevel) {
        while (listStack.length > 1 && level < currentLevel) {
          listStack.pop();
          currentList = listStack[listStack.length - 1];
          currentLevel--;
        }
      }
      
      currentList.appendChild(li);
      currentLevel = level;
    });
    
    tocContent.appendChild(toc);
    
    // Smooth scroll
    tocContent.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });
  })();
</script>
