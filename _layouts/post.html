---
layout: default
---

<a href="{{ '/' | relative_url }}" class="back-link">â† è¿”å›é¦–é¡µ</a>

<article class="content">
  {% if page.featured_image %}
  <img src="{{ page.featured_image }}" alt="{{ page.title }}" class="featured-image">
  {% endif %}
  
  <div class="article-header">
    <h2>{{ page.title }}</h2>
    
    <div class="article-meta">
      {% if page.date %}
      <span class="article-meta-item">
        ğŸ“… å‘å¸ƒ: {{ page.date | date: "%Yå¹´%mæœˆ%dæ—¥" }}
      </span>
      {% endif %}
      
      {% if page.lastmod %}
      <span class="article-meta-item">
        ğŸ”„ æ›´æ–°: {{ page.lastmod | date: "%Yå¹´%mæœˆ%dæ—¥" }}
      </span>
      {% endif %}
    </div>
  </div>
  
  <div class="post-content">
    <aside class="toc-wrapper">
      {% include toc-liquid.html %}
    </aside>
    
    <div class="article-body">
      {{ content }}
    </div>
  </div>
</article>

<script>
  // Detect and move header image (Notion-style)
  (function() {
    const articleBody = document.querySelector('.article-body');
    const articleHeader = document.querySelector('.article-header');
    
    if (!articleBody || !articleHeader || !articleHeader.parentElement) return;
    
    // Find the first image in article body
    const firstImg = articleBody.querySelector('img');
    
    if (firstImg) {
      // Check if the image is at the very beginning (first or second element)
      const firstElements = Array.from(articleBody.children).slice(0, 2);
      const imgParent = firstImg.parentElement;
      
      // If image is in the first two elements, treat it as a header image
      if (firstElements.includes(firstImg) || firstElements.includes(imgParent)) {
        // Create header image container
        const headerImageContainer = document.createElement('div');
        headerImageContainer.className = 'notion-header-image';
        
        // Clone the image
        const headerImg = firstImg.cloneNode(true);
        headerImageContainer.appendChild(headerImg);
        
        // Insert before article header
        articleHeader.parentElement.insertBefore(headerImageContainer, articleHeader);
        
        // Remove original image from article body
        if (imgParent.tagName === 'P' && imgParent.children.length === 1) {
          imgParent.remove();
        } else {
          firstImg.remove();
        }
      }
    }
  })();

  // TOC logic moved to external file for maintainability
</script>
<!-- TOC is generated server-side via include -->
